

generator client {
  provider = "prisma-client-js"
}


datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}



//  enums

enum UserStatus {
  online
  offline
  idle
  doNotDisturb
}


enum Character {
  WARRIOR
  MAGE
  ARCHER
  ROGUE
}

enum RankDivision {
  BRONZE
  SILVER
  GOLD
  PLATINUM
}

enum RankTier {
  TIER1
  TIER2
  TIER3
}


model Profile {
  id        Int      @id @default(autoincrement())
  userId    Int      @unique

  username  String
  fname     String
  lname     String
  bio       String?
  banner    String?
  avatar    String   @default("http://localhost:4000/tmp/images/default.png")

  status    UserStatus @default(online)
  walletBalance Int   @default(0)

  playerStats         Json?

  playerCharacters    Json?
  playerSelectedCharacter Character? @default(WARRIOR)

  preferences         Json?
  matchHistory        Json?

  isVerified          Boolean @default(false)
  rankDivision        RankDivision @default(BRONZE)
  rankTier            RankTier     @default(TIER1)

  totalGames  Int     @default(0)
  wins        Int     @default(0)
  losses      Int     @default(0)
  rank        Int     @default(0)
  level       Int     @default(0)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}



model Friendship {
  id              Int    @id @default(autoincrement())

  userId          Int
  friendId        Int
  status          String

  createdAt       DateTime @default(now())

}
